---
title: Créer une requête pour trouver des données sensibles stockées sur des sites
ms.author: stephow
author: stephow-MSFT
manager: laurawi
ms.date: 6/29/2018
ms.audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MOE150
- MET150
ms.assetid: 3019fbc5-7f15-4972-8d0e-dc182dc7f836
description: Avec la protection contre la perte de données (DLP) dans SharePoint Online, vous pouvez découvrir des documents qui contiennent des données sensibles sur l'ensemble de votre client. Après avoir découvert les documents, vous pouvez travailler avec les propriétaires de documents pour protéger les données. Cette rubrique peut vous aider à créer une requête pour rechercher des données sensibles.
ms.openlocfilehash: 3dc1081d4627f1a26c50eed84f733c31a3f6c194
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/23/2019
ms.locfileid: "30217234"
---
# <a name="form-a-query-to-find-sensitive-data-stored-on-sites"></a><span data-ttu-id="c5518-105">Créer une requête pour trouver des données sensibles stockées sur des sites</span><span class="sxs-lookup"><span data-stu-id="c5518-105">Form a query to find sensitive data stored on sites</span></span>

<span data-ttu-id="c5518-p102">Les utilisateurs stockent souvent des données sensibles, telles que des numéros de carte de crédit, des numéros de sécurité sociale ou des informations personnelles sur leurs sites, ce qui peut exposer une organisation à un risque considérable de perte de données. Les documents stockés sur des sites, y compris les sites OneDrive entreprise, peuvent être partagés avec des personnes en dehors de l'organisation qui ne doivent pas avoir accès aux informations. Avec la protection contre la perte de données (DLP) dans SharePoint Online, vous pouvez découvrir des documents qui contiennent des données sensibles sur l'ensemble de votre client. Après avoir découvert les documents, vous pouvez travailler avec les propriétaires de documents pour protéger les données. Cette rubrique peut vous aider à créer une requête pour rechercher des données sensibles.</span><span class="sxs-lookup"><span data-stu-id="c5518-p102">Users often store sensitive data, such as credit card numbers, social security numbers, or personal, on their sites, and over time this can expose an organization to significant risk of data loss. Documents stored on sites—including OneDrive for Business sites—could be shared with people outside the organization who shouldn't have access to the information. With data loss prevention (DLP) in SharePoint Online, you can discover documents that contain sensitive data throughout your tenant. After discovering the documents, you can work with the document owners to protect the data. This topic can help you form a query to search for sensitive data.</span></span>
  
> [!NOTE]
> <span data-ttu-id="c5518-111">La découverte électronique, ou eDiscovery et DLP sont des fonctionnalités Premium qui nécessitent [SharePoint Online plan 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span><span class="sxs-lookup"><span data-stu-id="c5518-111">Electronic discovery, or eDiscovery, and DLP are premium features that require [SharePoint Online Plan 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span></span> 
  
## <a name="forming-a-basic-dlp-query"></a><span data-ttu-id="c5518-112">Création d'une requête DLP de base</span><span class="sxs-lookup"><span data-stu-id="c5518-112">Forming a basic DLP query</span></span>

<span data-ttu-id="c5518-p103">Il existe trois parties qui composent une requête DLP de base: SensitiveType, plage de nombre et plage de confiance. Comme illustré dans le graphique suivant, **SensitiveType: «\<type\>»** est obligatoire, et**|\<\> la plage de nombre** et la plage de\*\*|\<confiance\> \*\* sont facultatives.</span><span class="sxs-lookup"><span data-stu-id="c5518-p103">There are three parts that make up a basic DLP query: SensitiveType, count range, and confidence range. As illustrated in the following graphic, **SensitiveType:"\<type\>"** is required, and both**|\<count range\>** and**|\<confidence range\>** are optional.</span></span> 
  
![Exemple de requête divisée en obligatoire et facultative](media/DLP-query-example-text.png)
  
### <a name="sensitive-type---required"></a><span data-ttu-id="c5518-116">Type d'informations sensibles - Obligatoire</span><span class="sxs-lookup"><span data-stu-id="c5518-116">Sensitive type - required</span></span>

<span data-ttu-id="c5518-p104">Qu'est-ce que chaque composant? Les requêtes DLP SharePoint commencent généralement par la `SensitiveType:"` propriété et un nom de type d'information à partir de l'inventaire des types d' `"` [informations sensibles](https://go.microsoft.com/fwlink/?LinkID=509999)et se terminent par un. Vous pouvez également utiliser le nom d'un [type d'informations sensibles personnalisé](create-a-custom-sensitive-information-type.md) que vous avez créé pour votre organisation. Par exemple, vous pouvez trouver des documents qui contiennent des numéros de carte de crédit. Dans ce cas, vous devez utiliser le format suivant: `SensitiveType:"Credit Card Number"`. Étant donné que vous n'avez pas inclus une plage de nombre ou une plage de confiance, la requête renvoie tous les documents dans lesquels un numéro de carte de crédit est détecté. Il s'agit de la requête la plus simple que vous pouvez exécuter et renvoie le plus de résultats. N'oubliez pas que l'orthographe et l'espacement du type sensible sont importants.</span><span class="sxs-lookup"><span data-stu-id="c5518-p104">So what is each part? SharePoint DLP queries typically begin with the property  `SensitiveType:"` and an information type name from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999), and end with a  `"`. You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization. For example, you might be looking for documents that contain credit card numbers. In such an instance, you'd use the following format:  `SensitiveType:"Credit Card Number"`. Because you didn't include count range or confidence range, the query returns every document in which a credit card number is detected. This is the simplest query that you can run, and it returns the most results. Keep in mind that the spelling and spacing of the sensitive type matters.</span></span> 
  
### <a name="ranges---optional"></a><span data-ttu-id="c5518-125">Plages - facultatives</span><span class="sxs-lookup"><span data-stu-id="c5518-125">Ranges - optional</span></span>

<span data-ttu-id="c5518-p105">Les deux parties suivantes sont des plages, donc examinons rapidement à quoi ressemble une plage. Dans les requêtes DLP de SharePoint, une plage de base est représentée par deux nombres séparés par deux points, à savoir `[number]..[number]`:. Par exemple, si `10..20` est utilisé, cette plage capturerait les numéros de 10 à 20. Il existe de nombreuses combinaisons de plage différentes et plusieurs sont abordées dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c5518-p105">Both of the next two parts are ranges, so let's quickly examine what a range looks like. In SharePoint DLP queries, a basic range is represented by two numbers separated by two periods, which looks like this:  `[number]..[number]`. For instance, if  `10..20` is used, that range would capture numbers from 10 through 20. There are many different range combinations and several are covered in this topic.</span></span> 
  
<span data-ttu-id="c5518-p106">Nous allons ajouter une plage de nombre à la requête. Vous pouvez utiliser la plage de nombre pour définir le nombre d'occurrences d'informations sensibles qu'un document doit contenir avant qu'il ne soit inclus dans les résultats de la requête. Par exemple, si vous souhaitez que votre requête renvoie uniquement les documents qui contiennent exactement cinq numéros de carte de crédit, `SensitiveType:"Credit Card Number|5"`utilisez ce qui suit:. La plage de nombre peut également vous aider à identifier les documents qui présentent de hauts niveaux de risque. Par exemple, votre organisation peut considérer comme des documents ayant au moins cinq numéros de carte de crédit un risque élevé. Pour rechercher les documents qui composent ce critère, utilisez la `SensitiveType:"Credit Card Number|5.."`requête suivante:. Vous pouvez également rechercher des documents contenant au moins cinq numéros de carte de crédit à l'aide de `SensitiveType:"Credit Card Number|..5"`cette requête:.</span><span class="sxs-lookup"><span data-stu-id="c5518-p106">Let's add a count range to the query. You can use count range to define the number of occurrences of sensitive information a document needs to contain before it's included in the query results. For example, if you want your query to return only documents that contain exactly five credit card numbers, use this:  `SensitiveType:"Credit Card Number|5"`. Count range can also help you identify documents that pose high degrees of risk. For example, your organization might consider documents with five or more credit card numbers a high risk. To find documents fitting this criterion, you would use this query:  `SensitiveType:"Credit Card Number|5.."`. Alternatively, you can find documents with five or fewer credit card numbers by using this query:  `SensitiveType:"Credit Card Number|..5"`.</span></span> 
  
#### <a name="confidence-range"></a><span data-ttu-id="c5518-137">Plage de confiance</span><span class="sxs-lookup"><span data-stu-id="c5518-137">Confidence range</span></span>

<span data-ttu-id="c5518-p107">Enfin, la plage de confiance est le niveau de confiance que le type sensible détecté est effectivement une correspondance. Les valeurs de la plage de confiance fonctionnent de la même manière que la plage de comptage. Vous pouvez créer une requête sans inclure de plage de nombre. Par exemple, pour rechercher des documents comportant n'importe quel nombre de numéros de carte de crédit, si la plage de confiance est de 85% ou plus, vous utiliserez cette requête: `SensitiveType:"Credit Card Number|*|85.."`.</span><span class="sxs-lookup"><span data-stu-id="c5518-p107">Finally, confidence range is the level of confidence that the detected sensitive type is actually a match. The values for confidence range work similarly to count range. You can form a query without including a count range. For example, to search for documents with any number of credit card numbers—as long as the confidence range is 85 percent or higher—you would use this query:  `SensitiveType:"Credit Card Number|*|85.."`.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="c5518-p108">L'astérisque ( `*`) est un caractère générique qui signifie que n'importe quelle valeur fonctionne. Vous pouvez utiliser le caractère générique ( `*`) dans la plage de nombre ou dans la plage de confiance, mais pas dans un type sensible.</span><span class="sxs-lookup"><span data-stu-id="c5518-p108">The asterisk ( `*`) is a wildcard character that means any value works. You can use the wildcard character ( `*`) either in the count range or in the confidence range, but not in a sensitive type.</span></span> 
  
### <a name="additional-query-properties-and-search-operators-available-in-the-ediscovery-center"></a><span data-ttu-id="c5518-144">Propriétés de requête supplémentaires et opérateurs de recherche disponibles dans le centre eDiscovery</span><span class="sxs-lookup"><span data-stu-id="c5518-144">Additional query properties and search operators available in the eDiscovery Center</span></span>

<span data-ttu-id="c5518-p109">DLP dans SharePoint introduit également la propriété LastSensitiveContentScan, qui peut vous aider à rechercher des fichiers analysés dans une période spécifique. Pour obtenir des exemples de `LastSensitiveContentScan` requête avec la propriété, consultez les [exemples de requêtes complexes](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="c5518-p109">DLP in SharePoint also introduces the LastSensitiveContentScan property, which can help you search for files scanned within a specific timeframe. For query examples with the  `LastSensitiveContentScan` property, see the [Examples of complex queries](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) in the next section.</span></span> 
  
<span data-ttu-id="c5518-p110">Vous pouvez utiliser non seulement des propriétés spécifiques à DLP pour créer une requête, mais aussi des propriétés de recherche de découverte `Author` électronique `FileExtension`SharePoint standard, telles que ou. Vous pouvez utiliser des opérateurs pour créer des requêtes complexes. Pour obtenir la liste des propriétés et des opérateurs disponibles, consultez la rubrique [utilisation des propriétés et des opérateurs de recherche avec](https://go.microsoft.com/fwlink/?LinkId=510093) le billet de blog eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="c5518-p110">You can use not only DLP-specific properties to create a query, but also standard SharePoint eDiscovery search properties such as  `Author` or  `FileExtension`. You can use operators to build complex queries. For the list of available properties and operators, see the [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) blog post.</span></span> 
  
## <a name="examples-of-complex-queries"></a><span data-ttu-id="c5518-150">Exemples</span><span class="sxs-lookup"><span data-stu-id="c5518-150">Examples of complex queries</span></span>

<span data-ttu-id="c5518-151">Les exemples suivants utilisent différents types, propriétés et opérateurs sensibles pour illustrer la manière dont vous pouvez affiner vos requêtes pour trouver exactement ce que vous recherchez.</span><span class="sxs-lookup"><span data-stu-id="c5518-151">The following examples use different sensitive types, properties, and operators to illustrate how you can refine your queries to find exactly what you're looking for.</span></span>
  
|<span data-ttu-id="c5518-152">**Rogation**</span><span class="sxs-lookup"><span data-stu-id="c5518-152">**Query**</span></span>|<span data-ttu-id="c5518-153">**Explication**</span><span class="sxs-lookup"><span data-stu-id="c5518-153">**Explanation**</span></span>|
|:-----|:-----|
| `SensitiveType:"International Banking Account Number (IBAN)"` <br/> |<span data-ttu-id="c5518-p111">Le nom peut sembler étrange, car il est tellement long, mais il s'agit du nom correct pour ce type sensible. Veillez à utiliser des noms exacts à partir de l' [inventaire des types d'informations sensibles](https://go.microsoft.com/fwlink/?LinkID=509999). Vous pouvez également utiliser le nom d'un [type d'informations sensibles personnalisé](create-a-custom-sensitive-information-type.md) que vous avez créé pour votre organisation.</span><span class="sxs-lookup"><span data-stu-id="c5518-p111">The name might seem strange because it's so long, but it's the correct name for that sensitive type. Make sure to use exact names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999). You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1..4294967295|1..100"` <br/> |<span data-ttu-id="c5518-p112">Renvoie les documents avec au moins une correspondance au type sensible «numéro de carte de crédit». Les valeurs de chaque plage sont les valeurs minimale et maximale respectives. Un moyen plus simple d'écrire cette requête est `SensitiveType:"Credit Card Number"`, mais où se trouve le plaisir?</span><span class="sxs-lookup"><span data-stu-id="c5518-p112">This returns documents with at least one match to the sensitive type "Credit Card Number." The values for each range are the respective minimum and maximum values. A simpler way to write this query is  `SensitiveType:"Credit Card Number"`, but where's the fun in that?  </span></span><br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018"` <br/> |<span data-ttu-id="c5518-160">Cette fonction renvoie des documents avec 5-25 numéros de carte de crédit qui ont été analysés le 11 août, 2018 et 13 août 2018.</span><span class="sxs-lookup"><span data-stu-id="c5518-160">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018" NOT FileExtension:XLSX` <br/> |<span data-ttu-id="c5518-p113">Cette fonction renvoie des documents avec 5-25 numéros de carte de crédit qui ont été analysés le 11 août, 2018 et 13 août 2018. Les fichiers avec une extension XLSX ne sont pas inclus dans les résultats de la requête.  `FileExtension` est l'une des nombreuses propriétés que vous pouvez inclure dans une requête. Pour plus d'informations, voir [utilisation des propriétés de recherche et des opérateurs avec eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).</span><span class="sxs-lookup"><span data-stu-id="c5518-p113">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018. Files with an XLSX extension aren't included in the query results.  `FileExtension` is one of many properties that you can include in a query. For more information, see [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).  </span></span><br/> |
| `SensitiveType:"Credit Card Number" OR SensitiveType:"U.S. Social Security Number (SSN)"` <br/> |<span data-ttu-id="c5518-165">Cela renvoie les documents contenant un numéro de carte de crédit ou un numéro de sécurité sociale.</span><span class="sxs-lookup"><span data-stu-id="c5518-165">This returns documents that contain either a credit card number or a social security number.</span></span>  <br/> |
   
## <a name="examples-of-queries-to-avoid"></a><span data-ttu-id="c5518-166">Exemples</span><span class="sxs-lookup"><span data-stu-id="c5518-166">Examples of queries to avoid</span></span>

<span data-ttu-id="c5518-p114">Toutes les requêtes ne sont pas égales. Le tableau suivant donne des exemples de requêtes qui ne fonctionnent pas avec DLP dans SharePoint et explique pourquoi.</span><span class="sxs-lookup"><span data-stu-id="c5518-p114">Not all queries are created equal. The following table gives examples of queries that don't work with DLP in SharePoint and describes why.</span></span>
  
|<span data-ttu-id="c5518-169">**Requête non prise en charge**</span><span class="sxs-lookup"><span data-stu-id="c5518-169">**Unsupported query**</span></span>|<span data-ttu-id="c5518-170">**Reason**</span><span class="sxs-lookup"><span data-stu-id="c5518-170">**Reason**</span></span>|
|:-----|:-----|
| `SensitiveType:"Credit Card Number|.."` <br/> |<span data-ttu-id="c5518-171">Vous devez ajouter au moins un nombre.</span><span class="sxs-lookup"><span data-stu-id="c5518-171">You must add at least one number.</span></span>  <br/> |
| `SensitiveType:"NotARule"` <br/> |<span data-ttu-id="c5518-p115">«NotARule» n'est pas un nom de type sensible valide. Seuls les noms des [types d'informations sensibles stockent](https://go.microsoft.com/fwlink/?LinkID=509999) le travail dans les requêtes DLP.</span><span class="sxs-lookup"><span data-stu-id="c5518-p115">"NotARule" isn't a valid sensitive type name. Only names in the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999) work in DLP queries.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|0"` <br/> |<span data-ttu-id="c5518-174">Zéro n'est pas valide comme valeur minimale ou valeur maximale dans une plage.</span><span class="sxs-lookup"><span data-stu-id="c5518-174">Zero isn't valid as either the minimum value or the maximum value in a range.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number"` <br/> |<span data-ttu-id="c5518-p116">Il peut être difficile de voir, mais il y a un espace supplémentaire entre «crédit» et «carte» qui rend la requête incorrecte. Utilisez des noms de types sensibles exactes à partir de l' [inventaire des types d'informations sensibles](https://go.microsoft.com/fwlink/?LinkID=509999).</span><span class="sxs-lookup"><span data-stu-id="c5518-p116">It's might be difficult to see, but there's extra white space between "Credit" and "Card" that makes the query invalid. Use exact sensitive type names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999).  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1. .3"` <br/> |<span data-ttu-id="c5518-177">La partie deux périodes ne doit pas être séparée par un espace.</span><span class="sxs-lookup"><span data-stu-id="c5518-177">The two-period portion shouldn't be separated by a space.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| |1..|80.."` <br/> |<span data-ttu-id="c5518-178">Il y a trop de délimiteurs de canaux (</span><span class="sxs-lookup"><span data-stu-id="c5518-178">There are too many pipe delimiters (</span></span>|<span data-ttu-id="c5518-p117">). Suivez ce format à la place:`SensitiveType: "Credit Card Number|1..|80.."`</span><span class="sxs-lookup"><span data-stu-id="c5518-p117">). Follow this format instead: `SensitiveType: "Credit Card Number|1..|80.."`</span></span> <br/> |
| `SensitiveType:"Credit Card Number|1..|80..101"` <br/> |<span data-ttu-id="c5518-p118">Étant donné que les valeurs de confiance représentent un pourcentage, elles ne peuvent pas dépasser 100. Choisissez plutôt un nombre compris entre 1 et 100.</span><span class="sxs-lookup"><span data-stu-id="c5518-p118">Because confidence values represent a percentage, they can't exceed 100. Choose a number from 1 through 100 instead.</span></span>  <br/> |
   
## <a name="for-more-information"></a><span data-ttu-id="c5518-183">Pour plus d’informations</span><span class="sxs-lookup"><span data-stu-id="c5518-183">For more information</span></span>

[<span data-ttu-id="c5518-184">Éléments recherchés par les types d’informations sensibles</span><span class="sxs-lookup"><span data-stu-id="c5518-184">What the sensitive information types look for</span></span>](what-the-sensitive-information-types-look-for.md)
  
[<span data-ttu-id="c5518-185">Exécuter une recherche de contenu dans le centre de &amp; sécurité conformité Office 365</span><span class="sxs-lookup"><span data-stu-id="c5518-185">Run a Content Search in the Office 365 Security &amp; Compliance Center</span></span>](run-a-content-search-in-the-security-and-compliance-center.md)
  
[<span data-ttu-id="c5518-186">Requêtes par mots clés et conditions de recherche pour la recherche de contenu</span><span class="sxs-lookup"><span data-stu-id="c5518-186">Keyword queries and search conditions for Content Search</span></span>](keyword-queries-and-search-conditions.md)
  

